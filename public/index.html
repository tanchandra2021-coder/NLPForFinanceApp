<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Sentiment Analyzer</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #FFFFFF;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        /* Animated geometric background like Robinhood */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        /* Animated gradient orbs */
        .gradient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(120px);
            opacity: 0.15;
            animation: float 25s ease-in-out infinite;
        }

        .gradient-orb.orange {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, #FF6B35 0%, transparent 70%);
            top: -200px;
            left: -200px;
        }

        .gradient-orb.yellow {
            width: 700px;
            height: 700px;
            background: radial-gradient(circle, #FFD93D 0%, transparent 70%);
            top: 50%;
            right: -300px;
            animation-delay: -10s;
        }

        .gradient-orb.red {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, #FF3366 0%, transparent 70%);
            bottom: -100px;
            left: 20%;
            animation-delay: -15s;
        }

        .gradient-orb.blue {
            width: 650px;
            height: 650px;
            background: radial-gradient(circle, #3B82F6 0%, transparent 70%);
            bottom: 20%;
            right: 10%;
            animation-delay: -5s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
            25% { transform: translate(80px, -80px) scale(1.1) rotate(90deg); }
            50% { transform: translate(-50px, 60px) scale(0.9) rotate(180deg); }
            75% { transform: translate(60px, 40px) scale(1.05) rotate(270deg); }
        }

        /* Robinhood-style geometric lines */
        .geometric-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(255,217,61,0.4), transparent);
            height: 1px;
            transform-origin: left center;
            animation: geometricDraw 8s ease-in-out infinite;
        }

        @keyframes geometricDraw {
            0%, 100% { 
                width: 0;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            50% { 
                width: 300px;
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                width: 300px;
                opacity: 0;
            }
        }

        /* Animated crosses (plus signs) */
        .geometric-cross {
            position: absolute;
            width: 20px;
            height: 20px;
            opacity: 0;
            animation: crossTwinkle 6s ease-in-out infinite;
        }

        .geometric-cross::before,
        .geometric-cross::after {
            content: '';
            position: absolute;
            background: #FFD93D;
        }

        .geometric-cross::before {
            width: 20px;
            height: 1px;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
        }

        .geometric-cross::after {
            width: 1px;
            height: 20px;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
        }

        @keyframes crossTwinkle {
            0%, 100% { 
                opacity: 0; 
                transform: scale(0.5) rotate(0deg);
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.2) rotate(180deg);
            }
        }

        /* Connected geometric paths */
        .geometric-path {
            position: absolute;
            stroke: rgba(255,217,61,0.3);
            stroke-width: 1;
            fill: none;
            stroke-dasharray: 500;
            stroke-dashoffset: 500;
            animation: drawPath 10s ease-in-out infinite;
        }

        @keyframes drawPath {
            0%, 100% { 
                stroke-dashoffset: 500;
                opacity: 0;
            }
            10%, 90% {
                opacity: 1;
            }
            50% { 
                stroke-dashoffset: 0;
            }
        }

        /* Animated stock chart lines */
        .stock-chart {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.08;
        }

        .chart-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #FF6B35, transparent);
            animation: chartMove 8s ease-in-out infinite;
        }

        @keyframes chartMove {
            0%, 100% { transform: translateX(-100%) scaleX(0.5); opacity: 0; }
            50% { transform: translateX(100%) scaleX(1); opacity: 1; }
        }

        /* Floating stars (changed from particles) */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #FFD93D;
            border-radius: 50%;
            opacity: 0;
            animation: starFloat 8s ease-in-out infinite;
            box-shadow: 0 0 10px #FFD93D, 0 0 20px #FFD93D;
        }

        .particle::before,
        .particle::after {
            content: '';
            position: absolute;
            background: #FFD93D;
            border-radius: 50%;
        }

        .particle::before {
            width: 2px;
            height: 8px;
            top: -2px;
            left: 1px;
        }

        .particle::after {
            width: 8px;
            height: 2px;
            top: 1px;
            left: -2px;
        }

        @keyframes starFloat {
            0% { 
                opacity: 0; 
                transform: translateY(0) scale(0.5) rotate(0deg); 
            }
            20% { 
                opacity: 1; 
                transform: translateY(-150px) scale(1) rotate(90deg); 
            }
            80% { 
                opacity: 1; 
                transform: translateY(-400px) scale(1.2) rotate(270deg); 
            }
            100% { 
                opacity: 0; 
                transform: translateY(-600px) scale(0.5) rotate(360deg); 
            }
        }

        /* Animated grid pattern */
        .grid-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255,107,53,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59,130,246,0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Stars */
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #FFD93D;
            opacity: 0;
            animation: twinkle 4s ease-in-out infinite;
            box-shadow: 0 0 6px #FFD93D;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(1); }
            50% { opacity: 1; transform: scale(2); }
        }

        /* Candlestick graphics */
        .candlestick {
            position: absolute;
            width: 3px;
            background: rgba(255,107,53,0.3);
            animation: candleGrow 3s ease-in-out infinite;
        }

        .candlestick::before,
        .candlestick::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            background: rgba(255,107,53,0.5);
        }

        @keyframes candleGrow {
            0%, 100% { height: 30px; opacity: 0.3; }
            50% { height: 60px; opacity: 0.6; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 32px;
            position: relative;
            z-index: 1;
        }

        /* Hero with glass background and animated candlesticks behind */
        .hero {
            text-align: center;
            margin-bottom: 100px;
            animation: fadeInUp 1s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            padding: 60px 40px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 32px;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: conic-gradient(from 0deg, transparent, rgba(255,107,53,0.03), transparent 60%);
            animation: rotate 20s linear infinite;
            z-index: 0;
        }

        /* Realistic candlestick chart behind hero glass (like TradingView) */
        .hero-candlesticks-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 75%;
            height: 40%;
            opacity: 0.3;
            z-index: 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.15) 100%);
            padding: 25px 15px;
            border-radius: 12px;
            position: relative;
        }

        /* Grid lines like TradingView */
        .hero-candlesticks-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 24%, rgba(255,255,255,0.02) 24%, rgba(255,255,255,0.02) 25%);
            pointer-events: none;
        }

        .hero-candle {
            position: relative;
            width: 4px;
            border-radius: 1px;
            flex-shrink: 0;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .hero-candle.bullish {
            background: linear-gradient(180deg, #FFD93D 0%, #D4AF37 100%);
            border: 0.5px solid rgba(255, 217, 61, 0.4);
        }

        .hero-candle.bearish {
            background: linear-gradient(180deg, #FF6B6B 0%, #FF3366 100%);
            border: 0.5px solid rgba(255, 51, 102, 0.4);
        }

        /* Realistic wicks */
        .hero-candle::before,
        .hero-candle::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            opacity: 0.7;
        }

        .hero-candle.bullish::before,
        .hero-candle.bullish::after {
            background: #FFD93D;
        }

        .hero-candle.bearish::before,
        .hero-candle.bearish::after {
            background: #FF3366;
        }

        .hero-candle::before {
            bottom: 100%;
        }

        .hero-candle::after {
            top: 100%;
        }

        /* Subtle animation */
        .hero-candle {
            animation: candleFlicker 3s ease-in-out infinite;
        }

        @keyframes candleFlicker {
            0%, 100% { 
                opacity: 0.7;
                filter: brightness(1);
            }
            50% { 
                opacity: 1;
                filter: brightness(1.15);
            }
        }

        /* Price line overlay */
        .price-line {
            position: absolute;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.5), transparent);
            top: 50%;
            left: 0;
            animation: priceLinePulse 4s ease-in-out infinite;
        }

        @keyframes priceLinePulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .hero h1,
        .hero .hero-subtitle,
        .hero .hero-description {
            position: relative;
            z-index: 1;
        }

        .hero-description {
            font-size: 16px;
            color: rgba(255,255,255,0.45);
            font-weight: 400;
            max-width: 700px;
            margin: 24px auto 0;
            line-height: 1.6;
            font-style: italic;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 82px;
            font-weight: 900;
            letter-spacing: -3px;
            margin-bottom: 32px;
            line-height: 1.1;
            background: linear-gradient(135deg, #FF6B35 0%, #FFD93D 25%, #FF3366 50%, #3B82F6 75%, #FF6B35 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientFlow 8s ease infinite;
        }

        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .hero-subtitle {
            font-size: 22px;
            color: rgba(255,255,255,0.6);
            font-weight: 400;
            max-width: 750px;
            margin: 0 auto;
            line-height: 1.7;
            animation: fadeIn 1.2s ease 0.3s both;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Mode selector buttons */
        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .mode-btn {
            padding: 16px 36px;
            border-radius: 24px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.03);
            color: rgba(255,255,255,0.6);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .mode-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .mode-btn:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 107, 53, 0.4);
            transform: translateY(-2px);
        }

        .mode-btn:hover::before {
            left: 100%;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #FF6B35 0%, #FF3366 100%);
            border-color: transparent;
            color: #FFFFFF;
            box-shadow: 0 8px 32px rgba(255, 107, 53, 0.4);
        }

        /* Glass card */
        .glass-card {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 32px;
            padding: 56px;
            margin-bottom: 40px;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .glass-card::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255,107,53,0.05), transparent 60%);
            animation: rotate 15s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate {
            to { transform: rotate(360deg); }
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 107, 53, 0.3);
            transform: translateY(-8px);
            box-shadow: 0 24px 80px rgba(255, 107, 53, 0.15);
        }

        .section-label {
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.4);
            margin-bottom: 24px;
            font-weight: 700;
        }

        /* Demo toggle with badge */
        .demo-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 28px;
            color: rgba(255,255,255,0.5);
            font-size: 14px;
            cursor: pointer;
            padding: 12px 24px;
            border-radius: 16px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .demo-toggle:hover {
            background: rgba(255,255,255,0.04);
            color: rgba(255,255,255,0.7);
        }

        .demo-toggle input {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #FF6B35;
        }

        .demo-badge {
            display: none;
            background: linear-gradient(135deg, #FFD93D 0%, #FF6B35 100%);
            color: #000000;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 20px;
            text-align: center;
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 4px 20px rgba(255,107,53,0.4);
        }

        .demo-badge.show {
            display: block;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Textarea */
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 28px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            color: #FFFFFF;
            font-size: 17px;
            font-family: 'Inter', sans-serif;
            font-weight: 400;
            resize: vertical;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.7;
        }

        textarea:focus {
            outline: none;
            background: rgba(0, 0, 0, 0.6);
            border-color: rgba(255, 107, 53, 0.5);
            box-shadow: 0 0 0 4px rgba(255, 107, 53, 0.1), 0 20px 60px rgba(0, 0, 0, 0.4);
            transform: translateY(-2px);
        }

        textarea::placeholder {
            color: rgba(255,255,255,0.25);
        }

        /* Premium button */
        .btn-primary {
            background: linear-gradient(135deg, #FF6B35 0%, #FF3366 100%);
            color: #FFFFFF;
            border: none;
            padding: 20px 64px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(255, 107, 53, 0.4);
            letter-spacing: 0.5px;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .btn-primary:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 48px rgba(255, 107, 53, 0.6);
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:active {
            transform: translateY(-2px) scale(0.98);
        }

        .btn-primary:disabled {
            background: rgba(255,255,255,0.08);
            color: rgba(255,255,255,0.3);
            cursor: not-allowed;
            box-shadow: none;
        }

        .button-container {
            text-align: center;
            margin-top: 40px;
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 80px;
            display: none;
        }

        .loading.show {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        .spinner-container {
            position: relative;
            width: 80px;
            height: 80px;
            margin: 0 auto 32px;
        }

        .spinner-ring {
            position: absolute;
            width: 80px;
            height: 80px;
            border: 3px solid transparent;
            border-radius: 50%;
            animation: spin 1.5s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        }

        .spinner-ring:nth-child(1) {
            border-top-color: #FF6B35;
            border-right-color: #FFD93D;
        }

        .spinner-ring:nth-child(2) {
            border-top-color: #FF3366;
            border-right-color: #3B82F6;
            animation-delay: -0.5s;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 18px;
            background: linear-gradient(135deg, #FF6B35 0%, #FFD93D 50%, #FF3366 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientFlow 3s ease infinite;
            font-weight: 600;
        }

        /* Results */
        .results {
            display: none;
        }

        .results.show {
            display: block;
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Sentiment hero */
        .sentiment-hero {
            text-align: center;
            padding: 80px 48px;
            background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
            border-radius: 32px;
            margin-bottom: 48px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .sentiment-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255,107,53,0.1), transparent 30%);
            animation: rotate 12s linear infinite;
        }

        .sentiment-label {
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.4);
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
            font-weight: 700;
        }

        .sentiment-main {
            font-size: 72px;
            font-weight: 900;
            letter-spacing: -3px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
            animation: scaleIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .sentiment-main.positive {
            background: linear-gradient(135deg, #FFD93D 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 30px rgba(255, 217, 61, 0.4));
        }

        .sentiment-main.negative {
            background: linear-gradient(135deg, #FF6B35 0%, #FF3366 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 30px rgba(255, 107, 53, 0.4));
        }

        .sentiment-main.neutral {
            background: linear-gradient(135deg, #FFD93D 0%, #FFA500 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.4));
        }

        .sentiment-subtitle {
            font-size: 19px;
            color: rgba(255,255,255,0.6);
            position: relative;
            z-index: 1;
            font-weight: 400;
        }

        /* Stats grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 28px;
            margin-bottom: 56px;
        }

        .stat-card {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 24px;
            padding: 40px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .stat-card::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,107,53,0.08) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s;
        }

        .stat-card:hover {
            background: rgba(255,255,255,0.05);
            border-color: rgba(255,107,53,0.3);
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(255,107,53,0.2);
        }

        .stat-card:hover::after {
            opacity: 1;
        }

        .stat-title {
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.4);
            margin-bottom: 16px;
            font-weight: 700;
        }

        .stat-value {
            font-size: 48px;
            font-weight: 800;
            color: #FFFFFF;
            letter-spacing: -2px;
        }

        .stat-value.positive { 
            background: linear-gradient(135deg, #FFD93D 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-value.negative { 
            background: linear-gradient(135deg, #FF6B35 0%, #FF3366 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Chart */
        .chart-section {
            margin-bottom: 56px;
        }

        .chart-header {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 28px;
            color: #FFFFFF;
            letter-spacing: -1px;
        }

        .chart-wrapper {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
            padding: 48px;
            height: 400px;
            position: relative;
        }

        .disclaimer {
            text-align: center;
            padding: 40px;
            color: rgba(255,255,255,0.3);
            font-size: 14px;
            line-height: 1.8;
            border-top: 1px solid rgba(255,255,255,0.05);
            font-weight: 400;
        }

        /* Stock ticker at bottom */
        .stock-ticker {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 107, 53, 0.3);
            padding: 16px 0;
            overflow: hidden;
            z-index: 1000;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
        }

        .ticker-content {
            display: flex;
            animation: tickerScroll 40s linear infinite;
            white-space: nowrap;
        }

        @keyframes tickerScroll {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        .ticker-item {
            display: inline-flex;
            align-items: center;
            margin: 0 40px;
            font-size: 16px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .ticker-symbol {
            margin-right: 12px;
            font-weight: 800;
        }

        .ticker-up { 
            color: #FFD93D;
            text-shadow: 0 0 10px rgba(255, 217, 61, 0.5);
        }
        
        .ticker-down { 
            color: #FF6B35;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
        }

        .ticker-arrow {
            margin-right: 8px;
            font-size: 18px;
        }

        /* Animated dashes in background */
        .dash-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,107,53,0.3), transparent);
            animation: dashMove 6s ease-in-out infinite;
        }

        .dash-line.horizontal {
            width: 150px;
        }

        .dash-line.vertical {
            width: 2px;
            height: 150px;
            background: linear-gradient(180deg, transparent, rgba(255,217,61,0.3), transparent);
        }

        .dash-line.diagonal {
            width: 200px;
            background: linear-gradient(135deg, transparent, rgba(59,130,246,0.3), transparent);
        }

        @keyframes dashMove {
            0%, 100% { 
                opacity: 0; 
                transform: translate(0, 0) scale(0.5);
            }
            50% { 
                opacity: 1; 
                transform: translate(var(--dx, 50px), var(--dy, 50px)) scale(1);
            }
        }

        /* Market line chart animation */
        .market-line {
            position: absolute;
            width: 300px;
            height: 100px;
            opacity: 0.15;
        }

        .market-line svg {
            width: 100%;
            height: 100%;
        }

        .market-line path {
            stroke: #FF6B35;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 500;
            stroke-dashoffset: 500;
            animation: drawPath 8s ease-in-out infinite;
        }

        @keyframes drawPath {
            0%, 100% { stroke-dashoffset: 500; opacity: 0; }
            50% { stroke-dashoffset: 0; opacity: 1; }
        }

        /* Volume bars animation */
        .volume-bar {
            position: absolute;
            width: 4px;
            background: linear-gradient(180deg, rgba(255,217,61,0.6), transparent);
            bottom: 0;
            animation: volumePulse 2s ease-in-out infinite;
        }

        @keyframes volumePulse {
            0%, 100% { height: 20px; opacity: 0.3; }
            50% { height: 60px; opacity: 0.8; }
        }

        @media (max-width: 768px) {
            .container { padding: 60px 24px 100px 24px; }
            h1 { font-size: 48px; }
            .hero-subtitle { font-size: 18px; }
            .glass-card { padding: 32px 24px; }
            .sentiment-main { font-size: 52px; }
            .stats-grid { grid-template-columns: 1fr; }
            .mode-selector { flex-direction: column; }
            .ticker-item { font-size: 14px; margin: 0 24px; }
        }
    </style>
</head>
<body>
    <!-- Robinhood-style animated background -->
    <div class="background-animation">
        <div class="gradient-orb orange"></div>
        <div class="gradient-orb yellow"></div>
        <div class="gradient-orb red"></div>
        <div class="gradient-orb blue"></div>
    </div>

    <!-- Stock ticker at bottom -->
    <div class="stock-ticker">
        <div class="ticker-content" id="ticker"></div>
    </div>

    <div class="container">
        <div class="hero">
            <div class="hero-candlesticks-container" id="heroCandlesticks">
                <div class="price-line"></div>
            </div>
            <h1>AI-Powered Market<br>Sentiment Analysis</h1>
            <p class="hero-subtitle">Decode financial narratives in real-time. Transform news, earnings calls, and social media into actionable market intelligence with advanced NLP technology</p>
            <p class="hero-description">Add breaking news or social media commentary to predict stock market impact, or analyze tariff announcements to gauge how investor sentiment will shift</p>
        </div>

        <div class="mode-selector">
            <button class="mode-btn active" data-mode="general">General Market Sentiment</button>
            <button class="mode-btn" data-mode="tariff">Tariff Impact Analysis</button>
        </div>

        <div class="demo-badge" id="demoBadge">Demo Mode Active</div>

        <div class="glass-card">
            <div class="section-label">Financial Text Input</div>
            
            <div class="demo-toggle">
                <input type="checkbox" id="demoMode">
                <span>Demo example</span>
            </div>

            <textarea id="financeText" placeholder="Enter financial news, earnings reports, market updates, or social commentary..."></textarea>
            
            <div class="button-container">
                <button class="btn-primary" id="predictBtn">Analyze Sentiment</button>
            </div>
        </div>

        <div id="loading" class="loading">
            <div class="spinner-container">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <div class="loading-text">Processing market sentiment...</div>
        </div>

        <div id="results" class="results">
            <div class="sentiment-hero">
                <div class="sentiment-label">Market Sentiment</div>
                <div class="sentiment-main" id="sentimentValue"></div>
                <div class="sentiment-subtitle" id="sentimentDesc"></div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-title">Confidence</div>
                    <div class="stat-value" id="confidenceValue"></div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Price Impact</div>
                    <div class="stat-value" id="movementValue"></div>
                </div>
            </div>

            <div class="glass-card">
                <div class="chart-section">
                    <div class="chart-header">Sentiment Distribution</div>
                    <div class="chart-wrapper">
                        <canvas id="sentimentChart"></canvas>
                    </div>
                </div>

                <div class="disclaimer">
                    Analysis provided for educational purposes. Not financial advice. Markets are unpredictable—always conduct thorough research and consult qualified professionals before making investment decisions.
                </div>
            </div>
        </div>
    </div>

    <script>
        // Generate Robinhood-style geometric background
        function createBackgroundElements() {
            const container = document.querySelector('.background-animation');
            
            // Create geometric lines (like Robinhood)
            for (let i = 0; i < 25; i++) {
                const line = document.createElement('div');
                line.className = 'geometric-line';
                line.style.width = '0px';
                line.style.top = Math.random() * 100 + '%';
                line.style.left = Math.random() * 100 + '%';
                line.style.animationDelay = (Math.random() * 8) + 's';
                line.style.animationDuration = (Math.random() * 4 + 6) + 's';
                
                // Random rotation for different angles
                const rotation = Math.random() * 360;
                line.style.transform = `rotate(${rotation}deg)`;
                
                container.appendChild(line);
            }
            
            // Create animated crosses (plus signs)
            for (let i = 0; i < 35; i++) {
                const cross = document.createElement('div');
                cross.className = 'geometric-cross';
                cross.style.left = Math.random() * 100 + '%';
                cross.style.top = Math.random() * 100 + '%';
                cross.style.animationDelay = Math.random() * 6 + 's';
                cross.style.animationDuration = (Math.random() * 3 + 4) + 's';
                container.appendChild(cross);
            }
            
            // Create SVG paths for connected lines
            for (let i = 0; i < 8; i++) {
                const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                svg.style.position = 'absolute';
                svg.style.width = '400px';
                svg.style.height = '400px';
                svg.style.left = Math.random() * 80 + '%';
                svg.style.top = Math.random() * 80 + '%';
                svg.style.pointerEvents = 'none';
                
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.classList.add('geometric-path');
                
                // Create random connected path
                const startX = Math.random() * 100;
                const startY = Math.random() * 100;
                const endX = Math.random() * 300 + 100;
                const endY = Math.random() * 300 + 100;
                const midX = (startX + endX) / 2 + (Math.random() - 0.5) * 100;
                const midY = (startY + endY) / 2 + (Math.random() - 0.5) * 100;
                
                path.setAttribute('d', `M ${startX} ${startY} Q ${midX} ${midY} ${endX} ${endY}`);
                path.style.animationDelay = (Math.random() * 10) + 's';
                
                svg.appendChild(path);
                container.appendChild(svg);
            }
            
            // Create floating stars
            for (let i = 0; i < 25; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.bottom = '0';
                particle.style.animationDelay = Math.random() * 8 + 's';
                container.appendChild(particle);
            }
        }

       // Stock ticker animation with REAL data
let stockCache = {};
let lastFetchTime = 0;
const CACHE_DURATION = 60000; // Cache for 1 minute

async function updateStockTicker() {
    const tickers = [
        'AAPL', 'TSLA', 'MSFT', 'GOOGL', 'AMZN', 'NVDA', 'META', 'NFLX',
        'AMD', 'INTC', 'PYPL', 'COIN', 'SQ', 'SHOP', 'UBER', 'ABNB'
    ];
    
    const now = Date.now();
    
    // Fetch real data if cache is expired
    if (now - lastFetchTime > CACHE_DURATION) {
        try {
            const API_KEY = 'ct195f9r01qncoban6u0ct195f9r01qncoban6ug'; // Free demo key
            
            const promises = tickers.map(async ticker => {
                try {
                    const response = await fetch(`https://finnhub.io/api/v1/quote?symbol=${ticker}&token=${API_KEY}`);
                    const data = await response.json();
                    
                    return {
                        symbol: ticker,
                        price: data.c || 0,
                        change: data.dp || 0
                    };
                } catch (err) {
                    console.error(`Error fetching ${ticker}:`, err);
                    return {
                        symbol: ticker,
                        price: stockCache[ticker]?.price || 0,
                        change: stockCache[ticker]?.change || 0
                    };
                }
            });
            
            const results = await Promise.all(promises);
            results.forEach(stock => {
                stockCache[stock.symbol] = stock;
            });
            lastFetchTime = now;
        } catch (error) {
            console.error('Error updating stock data:', error);
        }
    }
    
    // Generate HTML from cached data
    const tickerHTML = tickers.map(ticker => {
        const stock = stockCache[ticker];
        if (!stock) {
            return `<span class="ticker-item"><span class="ticker-symbol">${ticker}</span> Loading...</span>`;
        }
        
        const change = stock.change;
        const price = stock.price.toFixed(2);
        const arrow = change >= 0 ? '↗' : '↘';
        const cssClass = change >= 0 ? 'ticker-up' : 'ticker-down';
        const sign = change >= 0 ? '+' : '';
        
        return `
            <span class="ticker-item ${cssClass}">
                <span class="ticker-symbol">${ticker}</span>
                $${price}
                <span class="ticker-arrow">${arrow}</span>
                ${sign}${change.toFixed(2)}%
            </span>
        `;
    }).join('');
    
    document.getElementById('ticker').innerHTML = tickerHTML + tickerHTML;
}

        createBackgroundElements();
        updateStockTicker();
        
        // Create realistic candlesticks based on Apple's volatile pattern
        function createHeroCandlesticks() {
            const container = document.getElementById('heroCandlesticks');
            const candleCount = 120; // Many narrow candles
            
            // Apple-like price pattern - realistic market volatility
            // Starting with opening price, creating realistic intraday movement
            const applePattern = [
                230, 232, 231, 233, 235, 234, 236, 238, 237, 235, 233, 231, 
                230, 228, 226, 228, 230, 232, 234, 236, 238, 240, 239, 237,
                235, 234, 232, 230, 228, 227, 229, 231, 233, 235, 237, 239,
                241, 240, 238, 236, 234, 233, 235, 237, 239, 241, 243, 245,
                244, 242, 240, 238, 236, 234, 236, 238, 240, 242, 244, 243,
                241, 239, 237, 235, 233, 235, 237, 239, 241, 243, 245, 247,
                246, 244, 242, 240, 238, 240, 242, 244, 246, 248, 250, 249,
                247, 245, 243, 241, 243, 245, 247, 249, 251, 250, 248, 246,
                244, 242, 244, 246, 248, 250, 252, 251, 249, 247, 245, 243,
                245, 247, 249, 251, 253, 252, 250, 248, 246, 244, 246, 248
            ];
            
            // Normalize to percentage for vertical positioning
            const minPrice = Math.min(...applePattern);
            const maxPrice = Math.max(...applePattern);
            const priceRange = maxPrice - minPrice;
            
            applePattern.forEach((price, i) => {
                const candle = document.createElement('div');
                
                // Create open/close with small variations
                const open = price;
                const close = price + (Math.random() - 0.5) * 2;
                const isBullish = close > open;
                
                candle.className = 'hero-candle ' + (isBullish ? 'bullish' : 'bearish');
                
                // Small body height for narrow candles
                const bodyHeight = Math.abs(close - open) * 3 + 4;
                candle.style.height = bodyHeight + 'px';
                
                // Position based on price - this creates the volatile up/down movement
                const normalizedPrice = ((price - minPrice) / priceRange);
                // Invert and center: 0 at top, 1 at bottom, center is 0.5
                const verticalPosition = (0.5 - normalizedPrice) * 100; // -50 to +50
                candle.style.transform = `translateY(${verticalPosition}%)`;
                
                // Smaller wicks for narrow candles
                const highWick = Math.random() * 12 + 4;
                const lowWick = Math.random() * 12 + 4;
                
                const styleEl = document.createElement('style');
                styleEl.textContent = `
                    #heroCandlesticks .hero-candle:nth-child(${i + 2})::before {
                        height: ${highWick}px;
                    }
                    #heroCandlesticks .hero-candle:nth-child(${i + 2})::after {
                        height: ${lowWick}px;
                    }
                `;
                document.head.appendChild(styleEl);
                
                candle.style.animationDelay = (i * 0.02) + 's';
                
                container.appendChild(candle);
            });
        }
        
        createHeroCandlesticks();
        
        // Update ticker every 10 seconds
        setInterval(updateStockTicker, 10000);

        let currentMode = 'general';
        const textArea = document.getElementById('financeText');
        const demoCheckbox = document.getElementById('demoMode');
        const demoBadge = document.getElementById('demoBadge');
        const predictBtn = document.getElementById('predictBtn');
        const loading = document.getElementById('loading');
        const results = document.getElementById('results');

        // Mode selection
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentMode = this.dataset.mode;
                
                // Clear demo if switching modes
                if (demoCheckbox.checked) {
                    demoCheckbox.checked = false;
                    textArea.value = '';
                    demoBadge.classList.remove('show');
                }
            });
        });

        // Demo mode with different examples
        demoCheckbox.addEventListener('change', function() {
            if (this.checked) {
                demoBadge.classList.add('show');
                if (currentMode === 'tariff') {
                    textArea.value = "President announces sweeping 25% tariffs on steel and aluminum imports, citing national security concerns. Industry leaders warn of potential supply chain disruptions and rising costs for manufacturers. European Union threatens immediate retaliatory measures targeting U.S. agricultural exports and technology products.";
                } else {
                    textArea.value = "Apple Inc. announces record-breaking Q4 earnings with revenue exceeding $120 billion, driven by strong iPhone 15 sales and robust services growth. The company exceeded analyst expectations by 15%, with CEO Tim Cook highlighting unprecedented demand in emerging markets. Stock surged 8% in after-hours trading as investors celebrated the stellar performance.";
                }
            } else {
                demoBadge.classList.remove('show');
                textArea.value = '';
            }
        });

        // Analyze sentiment
        predictBtn.addEventListener('click', async function() {
            const text = textArea.value.trim();
            if (!text) {
                alert('Please enter text to analyze');
                return;
            }

            loading.classList.add('show');
            results.classList.remove('show');
            this.disabled = true;

            try {
                const response = await axios.post('/api/index', { text });
                const data = response.data;
                
                setTimeout(() => {
                    displayResults(data);
                    loading.classList.remove('show');
                    results.classList.add('show');
                }, 1000);
            } catch (error) {
                console.error('Error:', error);
                alert('Analysis failed. Please try again.');
                loading.classList.remove('show');
            } finally {
                this.disabled = false;
            }
        });

        function displayResults(data) {
            const { sentiment, confidence, movement, probabilities } = data;

            const sentimentValue = document.getElementById('sentimentValue');
            sentimentValue.textContent = sentiment;
            sentimentValue.className = 'sentiment-main ' + sentiment.toLowerCase();

            const descriptions = {
                'Positive': 'Strong bullish momentum detected across multiple market indicators',
                'Negative': 'Significant bearish pressure identified with downside risk',
                'Neutral': 'Mixed signals present—market outlook remains balanced'
            };
            document.getElementById('sentimentDesc').textContent = descriptions[sentiment];

            document.getElementById('confidenceValue').textContent = (confidence * 100).toFixed(0) + '%';
            
            const movementValue = document.getElementById('movementValue');
            const movementSign = movement > 0 ? '+' : '';
            movementValue.textContent = movementSign + movement.toFixed(1) + '%';
            movementValue.className = 'stat-value ' + (movement > 0 ? 'positive' : movement < 0 ? 'negative' : '');

            const ctx = document.getElementById('sentimentChart').getContext('2d');
            
            if (window.chartInstance) {
                window.chartInstance.destroy();
            }

            const gradient1 = ctx.createLinearGradient(0, 0, 0, 400);
            gradient1.addColorStop(0, 'rgba(255, 217, 61, 0.9)');
            gradient1.addColorStop(1, 'rgba(59, 130, 246, 0.3)');

            const gradient2 = ctx.createLinearGradient(0, 0, 0, 400);
            gradient2.addColorStop(0, 'rgba(255, 215, 0, 0.9)');
            gradient2.addColorStop(1, 'rgba(255, 165, 0, 0.3)');

            const gradient3 = ctx.createLinearGradient(0, 0, 0, 400);
            gradient3.addColorStop(0, 'rgba(255, 107, 53, 0.9)');
            gradient3.addColorStop(1, 'rgba(255, 51, 102, 0.3)');

            window.chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Positive', 'Neutral', 'Negative'],
                    datasets: [{
                        data: [
                            (probabilities.positive * 100).toFixed(1),
                            (probabilities.neutral * 100).toFixed(1),
                            (probabilities.negative * 100).toFixed(1)
                        ],
                        backgroundColor: [gradient1, gradient2, gradient3],
                        borderRadius: 16,
                        barThickness: 90
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.95)',
                            padding: 20,
                            cornerRadius: 12,
                            titleFont: { size: 16, weight: '700' },
                            bodyFont: { size: 15, weight: '500' },
                            borderColor: 'rgba(255, 107, 53, 0.5)',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.y.toFixed(1) + '%';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.03)',
                                drawBorder: false
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.4)',
                                font: { size: 13, weight: '600' },
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false,
                                drawBorder: false
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.8)',
                                font: { size: 15, weight: '700' }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
